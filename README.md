# story-json-to-amp

Compile [story-json](https://github.com/micnews/story-json) documents into [AMP stories](https://github.com/ampproject/amphtml/blob/master/extensions/amp-story/amp-story.md).

Not all features of the `story-json` format are supported at the moment. Open an issue if you need something that isn't supported yet. PRs are always welcome!

## Usage

```js
import story from './story.json';
import storyJsonToAmp from 'story-json-to-amp';

const ampHtml = storyJsonToAmp(story);
```

## API

In addition to [standard `story-json` properties](https://github.com/micnews/story-json#document-properties), a few special optional properties can be added to the document:

| Name | Description |
| ------ | ------------- |
| `customCss` | Extra CSS to append to AMP story document. This is useful for adding fonts or making AMP-specific customizations. |
| `analytics` | Array of [AMP analytics objects](https://www.ampproject.org/docs/reference/components/amp-analytics) |
| `bookendConfigSrc` | [Bookend endpoint URL](https://www.ampproject.org/docs/tutorials/visual_story/create_bookend) |

### Google AMP specific fields in `story-json`

- In `story-json` attribute `meta.authorType` can be `Organization` or `Person`. This is uses in structured data.
-  In `story-json` attribute `meta.images` is an array of images. This is used for AMP story metadata as well as structured data for SEO.
      where 
      - first one is square 
      - second one is `poster-portrait`
      - third one is `poster-landscape`

### AMP HTML language code - optional

- In `story-json` optional root level `languageCode` attribute takes a [ISO 639-1 language Code](https://www.w3schools.com/tags/ref_language_codes.asp) string to set the AMP HTML header language code eg `<html âš¡ lang="ru">`.


## Example

Here's an AMP story generated by this module:

https://mic.com/stories/327/what-happens-in-your-brain-when-you-listen-to-music

## License

MIT
